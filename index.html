<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Панель управления параметрами</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        .container-wrapper {
            display: flex;
            margin: 30px;
            gap: 30px;
        }
        
        .button-panel {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 280px;
        }
        
        .content-block {
            flex: 1;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 25px;
            background-color: #f8f9fa;
            display: flex;
            gap: 40px;
        }
        
        .parameter-column {
            display: flex;
            flex-direction: column;
            gap: 12px;
            min-width: 200px;
        }
        
        .param-btn {
            padding: 10px 15px;
            font-size: 16px;
            border-radius: 6px;
            border: 1px solid #ced4da;
            background-color: white;
            color: #495057;
            text-align: left;
            transition: all 0.2s;
            white-space: nowrap;
            width: auto;
            min-width: 180px;
        }
        
        .param-btn:hover {
            background-color: #e9ecef;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .control-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
        }
        
        .rule-checkbox {
            margin-bottom: 25px;
            display: none; /* Скрываем по умолчанию */
        }
        
        .current-value {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 15px;
            display: none; /* Скрываем по умолчанию */
        }
        
        .rule-line {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .rule-line-top {
            margin-bottom: 5px;
        }
        
        .rule-line-bottom {
            margin-top: 5px;
        }
        
        .form-check-input {
            margin-right: 5px;
        }
        
        .btn-custom {
            padding: 12px 25px;
            font-size: 18px;
            border-radius: 8px;
            transition: all 0.3s;
            white-space: nowrap;
            text-align: center;
            width: 100%;
        }
        
        .btn-main {
            background-color: #dc3545;
            border-color: #dc3545;
            font-weight: 600;
            color: white;
        }
        
        .btn-main:hover {
            background-color: #bb2d3b;
            border-color: #b02a37;
            transform: translateY(-2px);
            color: white;
        }
        
        .content-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #212529;
        }

        .rule-container {
            width: 100%;
            margin-bottom: 20px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            display: none; /* Скрываем контейнер по умолчанию */
        }

        .rule-table {
            width: 100%;
            border-collapse: collapse;
        }

        .rule-number {
            font-weight: bold;
            vertical-align: top;
            padding-top: 10px;
            width: 30px;
            color: #495057;
        }

        .rule-item {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .rule-then {
            color: #6c757d;
            margin: 0 4px;
        }

        .input-group {
            flex-wrap: nowrap;
        }

        .unit-btn, .percent-btn {
            min-width: 40px;
            padding: 0.25rem 0.5rem;
        }

        .form-control-sm {
            padding: 0.25rem 0.5rem;
            height: calc(1.5em + 0.5rem + 2px);
        }

        .time-input {
            font-family: monospace;
        }

        .param-btn.active {
            background-color: #e9ecef;
            border-color: #adb5bd;
            font-weight: 500;
        }
        
    </style>
</head>
<body>
    <div class="container-wrapper">
        <div class="button-panel">
            <button class="btn btn-custom btn-primary btn-lg">Управление инцидентами</button>
            <button class="btn btn-custom btn-secondary btn-lg">...</button>
            <button class="btn btn-custom btn-secondary btn-lg">...</button>
        </div>
        
        <div class="content-block">
            <div class="parameter-column">
                <h2 class="content-title">Параметры</h2>
                <button class="param-btn" id="temperature-btn">Температура</button>
                <button class="param-btn">Влажность</button>
                <button class="param-btn">Углекислый газ</button>
                <button class="param-btn">Аммиак</button>
                <button class="param-btn">Перепад давления</button>
                <button class="param-btn">Сеть 220В</button>
                <button class="param-btn">Вода</button>
                <button class="param-btn">Корм</button>
                <button class="param-btn">Связь с контроллером</button>
                <button class="param-btn">Телеметрия</button>
                <button class="param-btn">Оборудование</button>
            </div>
            
            <div class="control-panel" style="position: relative;">
                <div id="sensor-buttons-group" class="btn-group btn-group-sm mb-3" role="group" style="width: 100%; flex-wrap: wrap; display: none;">
                    <button type="button" class="btn btn-outline-secondary equipment-system-btn active">Температура</button>
                    <button type="button" class="btn btn-outline-secondary equipment-system-btn">Влажность</button>
                    <button type="button" class="btn btn-outline-secondary equipment-system-btn">CO₂</button>
                    <button type="button" class="btn btn-outline-secondary equipment-system-btn">NH3</button>
                    <button type="button" class="btn btn-outline-secondary equipment-system-btn">Давление</button>
                </div>
                <div id="equipment-buttons-group" class="btn-group btn-group-sm mb-3" role="group" style="width: 100%; flex-wrap: wrap; display: none;">
                    <button type="button" class="btn btn-outline-secondary equipment-system-btn active">Вентиляция</button>
                    <button type="button" class="btn btn-outline-secondary equipment-system-btn">Приток</button>
                    <button type="button" class="btn btn-outline-secondary equipment-system-btn">Обогрев</button>
                    <button type="button" class="btn btn-outline-secondary equipment-system-btn">Охлаждение</button>
                    <button type="button" class="btn btn-outline-secondary equipment-system-btn">Увлажнение</button>
                </div>

                <div class="d-flex justify-content-end mb-3">
                    <button class="btn btn-outline-primary btn-sm">
                        <i class="bi bi-download"></i> Скачать
                    </button>
                </div>
                <div class="rule-checkbox" id="enable-rule-checkbox">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="enableRule">
                        <label class="form-check-label" for="enableRule">Включить правило</label>
                    </div>
                </div>
                
                <div class="current-value" id="current-value-text">Если текущее значение:</div>
                <!-- Контейнер для правил температуры -->
                <div id="temperature-rules" class="rule-container">
                    <table class="rule-table">

                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_gt_tem" name="compare_type_tem" value="greater_tem" checked />
                                        <label for="compare_gt_tem">Больше на</label>
                                        <div class="input-group input-group-sm" style="width: 120px;">
                                            <input type="text" 
                                                class="form-control number-input" 
                                                pattern="^\d{1,2}([.,]\d{1,2})?$"
                                                title="Введите число в формате XX,XX или XX.XX"
                                                oninput="this.value = this.value.replace(/[^0-9.,]/g, '').replace(/([.,].*)[.,]/g, '$1');">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">°C</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="value_current_tem" name="value_type_tem" value="current_tem" checked />
                                        <label for="value_current_tem">Текущей уставки</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="delay_enabled_tem" name="delay_type_tem" value="enabled_tem" checked />
                                        <label for="delay_enabled_tem">Задержка</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_tem" name="notification_type_tem" value="notification_tem" checked />
                                        <label for="notify_normal_t">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_tem" name="repeat_type_tem" value="enabled_tem" checked />
                                        <label for="repeat_enabled_tem">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_lt_tem" name="compare_type_tem" value="less_tem" />
                                        <label for="compare_lt_tem" style="margin-right: 75px;">Меньше на</label>
                                        <div class="input-group input-group-sm" style="width: 40px;">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">%</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 9px;">
                                        <input type="radio" id="value_fixed_tem" name="value_type_tem" value="fixed_tem" />
                                        <label for="value_fixed_tem">Фиксированное</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 171px;">
                                        <input type="radio" id="delay_none_tem" name="delay_type_tem" value="none_tem" />
                                        <label for="delay_none_tem">Нет</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 42px;">
                                        <input type="radio" id="notify_alert_tem" name="notification_type_tem" value="alert_tem" />
                                        <label for="notify_alert_tem">Авария</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_none_tem" name="repeat_type_tem" value="none_tem" />
                                        <label for="repeat_none_tem">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Контейнер для правил влажности -->
                <div id="humidity-rules" class="rule-container">
                    <table class="rule-table">
                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_gt_vl" name="compare_type_vl" value="greater_vl" checked />
                                        <label for="compare_gt_vl">Больше на</label>
                                        <div class="input-group input-group-sm" style="width: 135px;">
                                            <input type="text" 
                                                class="form-control number-input" 
                                                pattern="^\d{1,2}([.,]\d{1,2})?$"
                                                title="Введите число в формате XX,XX или XX.XX"
                                                oninput="this.value = this.value.replace(/[^0-9.,]/g, '').replace(/([.,].*)[.,]/g, '$1');">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">% абс</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="value_current_vl" name="value_type_vl" value="current_vl" checked />
                                        <label for="value_current_vl">Текущей уставки</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="delay_enabled_vl" name="delay_type_vl" value="enabled_vl" checked />
                                        <label for="delay_enabled_vl">Задержка</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_vl" name="notification_type_vl" value="notification_vl" checked />
                                        <label for="notify_normal_vl">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_vl" name="repeat_type_vl" value="enabled_vl" checked />
                                        <label for="repeat_enabled_vl">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_lt_vl" name="compare_type_vl" value="less_vl" />
                                        <label for="compare_lt_vl" style="margin-right: 75px;">Меньше на</label>
                                        <div class="input-group input-group-sm" style="width: 55px;">
                                            <button class="btn btn-outline-secondary unit-btn" type="button" style="white-space: nowrap;">% отн</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 9px;">
                                        <input type="radio" id="value_fixed_vl" name="value_type_vl" value="fixed_vl" />
                                        <label for="value_fixed_vl">Фиксированное</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 171px;">
                                        <input type="radio" id="delay_none_vl" name="delay_type_vl" value="none_vl" />
                                        <label for="delay_none_vl">Нет</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 42px;">
                                        <input type="radio" id="notify_alert_vl" name="notification_type_vl" value="alert_vl" />
                                        <label for="notify_alert_vl">Авария</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_none_vl" name="repeat_type_vl" value="none_vl" />
                                        <label for="repeat_none_vl">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Контейнер для правил углекислого газа -->
                <div id="co2-rules" class="rule-container">
                    <table class="rule-table">
                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_gt_ug" name="compare_ugype_ug" value="greater_ug" checked />
                                        <label for="compare_gt_ug">Больше на</label>
                                        <div class="input-group input-group-sm" style="width: 120px;">
                                            <input type="text" 
                                                class="form-control number-input" 
                                                pattern="^\d{1,2}([.,]\d{1,2})?$"
                                                title="Введите число в формате XX,XX или XX.XX"
                                                oninput="this.value = this.value.replace(/[^0-9.,]/g, '').replace(/([.,].*)[.,]/g, '$1');">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">ppm</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="value_current_ug" name="value_ugype_ug" value="current_ug" checked />
                                        <label for="value_current_ug">Текущей уставки</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="delay_enabled_ug" name="delay_ugype_ug" value="enabled_ug" checked />
                                        <label for="delay_enabled_ug">Задержка</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_ug" name="notification_ugype_ug" value="notification_ug" checked />
                                        <label for="notify_normal_ug">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_ug" name="repeat_ugype_ug" value="enabled_ug" checked />
                                        <label for="repeat_enabled_ug">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_lt_ug" name="compare_ugype_ug" value="less_ug" />
                                        <label for="compare_lt_ug" style="margin-right: 75px;">Меньше на</label>
                                        <div class="input-group input-group-sm" style="width: 40px;">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">%</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 9px;">
                                        <input type="radio" id="value_fixed_ug" name="value_ugype_ug" value="fixed_ug" />
                                        <label for="value_fixed_ug">Фиксированное</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 171px;">
                                        <input type="radio" id="delay_none_ug" name="delay_ugype_ug" value="none_ug" />
                                        <label for="delay_none_ug">Нет</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 42px;">
                                        <input type="radio" id="notify_alert_ug" name="notification_ugype_ug" value="alert_ug" />
                                        <label for="notify_alert_ug">Авария</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_none_ug" name="repeat_ugype_ug" value="none_ug" />
                                        <label for="repeat_none_ug">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Контейнер для правил аммиака -->
                <div id="ammonia-rules" class="rule-container">
                    <table class="rule-table">
                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_gt_amm" name="compare_ammype_amm" value="greater_amm" checked />
                                        <label for="compare_gt_amm">Больше на</label>
                                        <div class="input-group input-group-sm" style="width: 120px;">
                                            <input type="text" 
                                                class="form-control number-input" 
                                                pattern="^\d{1,2}([.,]\d{1,2})?$"
                                                title="Введите число в формате XX,XX или XX.XX"
                                                oninput="this.value = this.value.replace(/[^0-9.,]/g, '').replace(/([.,].*)[.,]/g, '$1');">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">ppm</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="value_current_amm" name="value_ammype_amm" value="current_amm" checked />
                                        <label for="value_current_amm">Текущей уставки</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="delay_enabled_amm" name="delay_ammype_amm" value="enabled_amm" checked />
                                        <label for="delay_enabled_amm">Задержка</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_amm" name="notification_ammype_amm" value="notification_amm" checked />
                                        <label for="notify_normal_amm">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_amm" name="repeat_ammype_amm" value="enabled_amm" checked />
                                        <label for="repeat_enabled_amm">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_lt_amm" name="compare_ammype_amm" value="less_amm" />
                                        <label for="compare_lt_amm" style="margin-right: 75px;">Меньше на</label>
                                        <div class="input-group input-group-sm" style="width: 40px;">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">%</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 9px;">
                                        <input type="radio" id="value_fixed_amm" name="value_ammype_amm" value="fixed_amm" />
                                        <label for="value_fixed_amm">Фиксированное</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 171px;">
                                        <input type="radio" id="delay_none_amm" name="delay_ammype_amm" value="none_amm" />
                                        <label for="delay_none_amm">Нет</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 42px;">
                                        <input type="radio" id="notify_alert_amm" name="notification_ammype_amm" value="alert_amm" />
                                        <label for="notify_alert_amm">Авария</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_none_amm" name="repeat_ammype_amm" value="none_amm" />
                                        <label for="repeat_none_amm">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Контейнер для правил перепада давления -->
                <div id="pressure-rules" class="rule-container">
                    <table class="rule-table">
                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_gt_dav" name="compare_davype_dav" value="greater_dav" checked />
                                        <label for="compare_gt_dav">Больше на</label>
                                        <div class="input-group input-group-sm" style="width: 120px;">
                                            <input type="text" 
                                                class="form-control number-input" 
                                                pattern="^\d{1,2}([.,]\d{1,2})?$"
                                                title="Введите число в формате XX,XX или XX.XX"
                                                oninput="this.value = this.value.replace(/[^0-9.,]/g, '').replace(/([.,].*)[.,]/g, '$1');">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">Па</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="value_current_dav" name="value_davype_dav" value="current_dav" checked />
                                        <label for="value_current_dav">Текущей уставки</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="delay_enabled_dav" name="delay_davype_dav" value="enabled_dav" checked />
                                        <label for="delay_enabled_dav">Задержка</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_dav" name="notification_davype_dav" value="notification_dav" checked />
                                        <label for="notify_normal_dav">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_dav" name="repeat_davype_dav" value="enabled_dav" checked />
                                        <label for="repeat_enabled_dav">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_lt_dav" name="compare_davype_dav" value="less_dav" />
                                        <label for="compare_lt_dav" style="margin-right: 75px;">Меньше на</label>
                                        <div class="input-group input-group-sm" style="width: 40px;">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">%</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 9px;">
                                        <input type="radio" id="value_fixed_dav" name="value_davype_dav" value="fixed_dav" />
                                        <label for="value_fixed_dav">Фиксированное</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 171px;">
                                        <input type="radio" id="delay_none_dav" name="delay_davype_dav" value="none_dav" />
                                        <label for="delay_none_dav">Нет</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 42px;">
                                        <input type="radio" id="notify_alert_dav" name="notification_davype_dav" value="alert_dav" />
                                        <label for="notify_alert_dav">Авария</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_none_dav" name="repeat_davype_dav" value="none_dav" />
                                        <label for="repeat_none_dav">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Контейнер для правил сети 220В -->
                <div id="power-rules" class="rule-container">
                    <table class="rule-table">
                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <label class="form-check-label" for="powerCheck">Нет питания</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="delay_enabled_220B" name="delay_220Bype_220B" value="enabled_220B" checked />
                                        <label for="delay_enabled_220B">Задержка</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_220B" name="notification_220Bype_220B" value="notification_220B" checked />
                                        <label for="notify_normal_220B">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_220B" name="repeat_220Bype_220B" value="enabled_220B" checked />
                                        <label for="repeat_enabled_220B">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item">
                                        <label class="form-check-label" style="margin-right: 82px"></label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 172px;">
                                        <input type="radio" id="delay_none_220B" name="delay_220Bype_220B" value="none_220B" />
                                        <label for="delay_none_220B">Нет</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 42px;">
                                        <input type="radio" id="notify_alert_220B" name="notification_220Bype_220B" value="alert_220B" />
                                        <label for="notify_alert_220B">Авария</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_none_220B" name="repeat_220Bype_220B" value="none_220B" />
                                        <label for="repeat_none_220B">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Контейнер для правил воды -->
                <div id="water-rules" class="rule-container">
                    <table class="rule-table">
                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_gt_voda" name="compare_vodaype_voda" value="greater_voda" checked />
                                        <label for="compare_gt_voda">Больше на</label>
                                        <div class="input-group input-group-sm" style="width: 120px;">
                                            <input type="text" 
                                                class="form-control number-input" 
                                                pattern="^\d{1,2}([.,]\d{1,2})?$"
                                                title="Введите число в формате XX,XX или XX.XX"
                                                oninput="this.value = this.value.replace(/[^0-9.,]/g, '').replace(/([.,].*)[.,]/g, '$1');">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">л/сут</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="value_current_voda" name="value_vodaype_voda" value="current_voda" checked />
                                        <label for="value_current_voda">Текущей уставки</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="delay_enabled_voda" name="delay_vodaype_voda" value="enabled_voda" checked />
                                        <label for="delay_enabled_voda">Задержка</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_voda" name="notification_vodaype_voda" value="notification_voda" checked />
                                        <label for="notify_normal_voda">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_voda" name="repeat_vodaype_voda" value="enabled_voda" checked />
                                        <label for="repeat_enabled_voda">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_lt_voda" name="compare_vodaype_voda" value="less_voda" />
                                        <label for="compare_lt_voda" style="margin-right: 75px;">Меньше на</label>
                                        <div class="input-group input-group-sm" style="width: 40px;">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">%</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 9px;">
                                        <input type="radio" id="value_fixed_voda" name="value_vodaype_voda" value="fixed_voda" />
                                        <label for="value_fixed_voda">Фиксированное</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 171px;">
                                        <input type="radio" id="delay_none_voda" name="delay_vodaype_voda" value="none_voda" />
                                        <label for="delay_none_voda">Нет</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 42px;">
                                        <input type="radio" id="notify_alert_voda" name="notification_vodaype_voda" value="alert_voda" />
                                        <label for="notify_alert_voda">Авария</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_none_voda" name="repeat_vodaype_voda" value="none_voda" />
                                        <label for="repeat_none_voda">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Контейнер для правил корма -->
                <div id="feed-rules" class="rule-container">
                    <table class="rule-table">
                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_gt_corm" name="compare_cormype_corm" value="greater_corm" checked />
                                        <label for="compare_gt_corm">Больше на</label>
                                        <div class="input-group input-group-sm" style="width: 120px;">
                                            <input type="text" 
                                                class="form-control number-input" 
                                                pattern="^\d{1,2}([.,]\d{1,2})?$"
                                                title="Введите число в формате XX,XX или XX.XX"
                                                oninput="this.value = this.value.replace(/[^0-9.,]/g, '').replace(/([.,].*)[.,]/g, '$1');">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">КГ</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="value_current_corm" name="value_cormype_corm" value="current_corm" checked />
                                        <label for="value_current_corm">Текущей уставки</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="delay_enabled_corm" name="delay_cormype_corm" value="enabled_corm" checked />
                                        <label for="delay_enabled_corm">Задержка</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_corm" name="notification_cormype_corm" value="notification_corm" checked />
                                        <label for="notify_normal_corm">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_corm" name="repeat_cormype_corm" value="enabled_corm" checked />
                                        <label for="repeat_enabled_corm">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="compare_lt_corm" name="compare_cormype_corm" value="less_corm" />
                                        <label for="compare_lt_corm" style="margin-right: 75px;">Меньше на</label>
                                        <div class="input-group input-group-sm" style="width: 40px;">
                                            <button class="btn btn-outline-secondary unit-btn" type="button">%</button>
                                        </div>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 9px;">
                                        <input type="radio" id="value_fixed_corm" name="value_cormype_corm" value="fixed_corm" />
                                        <label for="value_fixed_corm">Фиксированное</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 171px;">
                                        <input type="radio" id="delay_none_corm" name="delay_cormype_corm" value="none_corm" />
                                        <label for="delay_none_corm">Нет</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 42px;">
                                        <input type="radio" id="notify_alert_corm" name="notification_cormype_corm" value="alert_corm" />
                                        <label for="notify_alert_corm">Авария</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_none_corm" name="repeat_cormype_corm" value="none_corm" />
                                        <label for="repeat_none_corm">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Контейнер для правил связи с контроллером -->
                <div id="connection-rules" class="rule-container">
                    <table class="rule-table">
                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <label class="form-check-label" for="connectionCheck">Нет данных</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_svyz" name="notification_svyzype_svyz" value="notification_svyz" checked />
                                        <label for="notify_normal_svyz">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_svyz" name="repeat_svyzype_svyz" value="enabled_svyz" checked />
                                        <label for="repeat_enabled_svyz">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item">
                                        <label class="form-check-label" style="margin-right: 230px"></label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-right: 42px;">
                                        <input type="radio" id="notify_alert_svyz" name="notification_svyzype_svyz" value="alert_svyz" />
                                        <label for="notify_alert_svyz">Авария</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_none_svyz" name="repeat_svyzype_svyz" value="none_svyz" />
                                        <label for="repeat_none_svyz">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Контейнер для правил телеметрии -->
                <div id="telemetry-rules" class="rule-container">
                    <table class="rule-table">
                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <label class="form-check-label" for="sensorFailureCheck">Отказ датчиков</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="delay_enabled_telemetr" name="delay_telemetrype_telemetr" value="enabled_telemetr" checked />
                                        <label for="delay_enabled_telemetr">Задержка</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_telemetr" name="notification_telemetrype_telemetr" value="notification_telemetr" checked />
                                        <label for="notify_normal_telemetr">Информация</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_telemetr" name="repeat_telemetrype_telemetr" value="enabled_telemetr" checked />
                                        <label for="repeat_enabled_telemetr">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item" style="margin-left: 130px;">
                                        <input type="radio" id="delay_none_telemetr" name="delay_telemetrype_telemetr" value="none_telemetr" />
                                        <label for="delay_none_telemetr">Нет</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-left: 173px;">
                                        <input type="radio" id="notify_alert_telemetr" name="notification_telemetrype_telemetr" value="alert_telemetr" />
                                        <label for="notify_alert_telemetr">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_none_telemetr" name="repeat_telemetrype_telemetr" value="none_telemetr" />
                                        <label for="repeat_none_telemetr">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item" style="margin-left: 377px;">
                                        <input type="radio" id="notify_alert_telemetr" name="notification_telemetrype_telemetr" value="alert_telemetr" />
                                        <label for="notify_alert_telemetr">Авария</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Контейнер для правил оборудования -->
                <div id="equipment-rules" class="rule-container">
                    <table class="rule-table">
                        <tr>
                            <td class="rule-number">1.</td>
                            <td colspan="5">
                                <div class="rule-line rule-line-top">
                                    <div class="form-check form-check-inline rule-item">
                                        <label class="form-check-label" for="equipmentFailureCheck">Отказ оборудования</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="delay_enabled_oborud" name="delay_oborudype_oborud" value="enabled_oborud" checked />
                                        <label for="delay_enabled_oborud">Задержка</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                    <span class="rule-then">, то</span>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="notify_normal_oborud" name="notification_oborudype_oborud" value="notification_oborud" checked />
                                        <label for="notify_normal_oborud">Уведомление</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item">
                                        <input type="radio" id="repeat_enabled_oborud" name="repeat_oborudype_oborud" value="enabled_oborud" checked />
                                        <label for="repeat_enabled_oborud">Повтор</label>
                                        <input type="text" 
                                        class="form-control form-control-sm time-input" 
                                        style="width: 85px;" 
                                        placeholder="чч:мм:сс"
                                        pattern="^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
                                        title="Введите время в формате чч:мм:сс (00:00:00 - 23:59:59)"
                                        oninput="formatTimeInput(this)">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="5">
                                <div class="rule-line rule-line-bottom">
                                    <div class="form-check form-check-inline rule-item" style="margin-left: 168px;">
                                        <input type="radio" id="delay_none_oborud" name="delay_oborudype_oborud" value="none_oborud" />
                                        <label for="delay_none_oborud">Нет</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-left: 173px;">
                                        <input type="radio" id="notify_alert_oborud" name="notification_oborudype_oborud" value="alert_oborud" />
                                        <label for="notify_alert_oborud">Авария</label>
                                    </div>
                                    <div class="form-check form-check-inline rule-item" style="margin-left: 40px;">
                                        <input type="radio" id="repeat_none_oborud" name="repeat_oborudype_oborud" value="none_oborud" />
                                        <label for="repeat_none_oborud">Нет</label>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <div style="position: absolute; bottom: 10px; right: 10px;">
                    <button class="btn btn-primary btn-sm">
                        <i class="bi bi-plus"></i> Добавить
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Контейнер для правил температуры -->



    <script>
document.addEventListener('DOMContentLoaded', function() {
    // Получаем все элементы
    const paramButtons = document.querySelectorAll('.param-btn');
    const enableRuleCheckbox = document.getElementById('enable-rule-checkbox');
    const currentValueText = document.getElementById('current-value-text');
    
    // Получаем группы кнопок оборудования
    const sensorButtonsGroup = document.querySelector('.btn-group:nth-of-type(1)');
    const equipmentButtonsGroup = document.querySelector('.btn-group:nth-of-type(2)');
    
    // Получаем все контейнеры правил
    const rulesContainers = {
        temperature: document.getElementById('temperature-rules'),
        humidity: document.getElementById('humidity-rules'),
        co2: document.getElementById('co2-rules'),
        ammonia: document.getElementById('ammonia-rules'),
        pressure: document.getElementById('pressure-rules'),
        power: document.getElementById('power-rules'),
        water: document.getElementById('water-rules'),
        feed: document.getElementById('feed-rules'),
        connection: document.getElementById('connection-rules'),
        telemetry: document.getElementById('telemetry-rules'),
        equipment: document.getElementById('equipment-rules')
    };

    // Функция для сброса всех активных состояний
    function resetAll() {
        // Сбрасываем активные классы у всех кнопок параметров
        paramButtons.forEach(btn => btn.classList.remove('active'));
        
        // Скрываем чекбокс и текст текущего значения
        enableRuleCheckbox.style.display = 'none';
        currentValueText.style.display = 'none';
        
        // Скрываем все контейнеры правил
        Object.values(rulesContainers).forEach(container => {
            if (container) container.style.display = 'none';
        });
        
        // Скрываем обе группы кнопок
        sensorButtonsGroup.style.display = 'none';
        equipmentButtonsGroup.style.display = 'none';
    }

    // Функция для показа правил с учетом типа
    function showRules(ruleType) {
        return function() {
            resetAll();
            this.classList.add('active');
            enableRuleCheckbox.style.display = 'block';
            currentValueText.style.display = 'block';
            
            // Показываем соответствующий контейнер правил
            if (rulesContainers[ruleType]) {
                rulesContainers[ruleType].style.display = 'block';
            }
            
            // Управляем видимостью групп кнопок
            if (ruleType === 'telemetry') {
                sensorButtonsGroup.style.display = 'flex';
            } else if (ruleType === 'equipment') {
                equipmentButtonsGroup.style.display = 'flex';
            }
        };
    }

    // Назначаем обработчики для кнопок параметров
    document.getElementById('temperature-btn').addEventListener('click', showRules('temperature'));
    document.querySelector('.param-btn:nth-of-type(2)').addEventListener('click', showRules('humidity'));
    document.querySelector('.param-btn:nth-of-type(3)').addEventListener('click', showRules('co2'));
    document.querySelector('.param-btn:nth-of-type(4)').addEventListener('click', showRules('ammonia'));
    document.querySelector('.param-btn:nth-of-type(5)').addEventListener('click', showRules('pressure'));
    document.querySelector('.param-btn:nth-of-type(6)').addEventListener('click', showRules('power'));
    document.querySelector('.param-btn:nth-of-type(7)').addEventListener('click', showRules('water'));
    document.querySelector('.param-btn:nth-of-type(8)').addEventListener('click', showRules('feed'));
    document.querySelector('.param-btn:nth-of-type(9)').addEventListener('click', showRules('connection'));
    document.querySelector('.param-btn:nth-of-type(10)').addEventListener('click', showRules('telemetry'));
    document.querySelector('.param-btn:nth-of-type(11)').addEventListener('click', showRules('equipment'));

    // Обработчики для кнопок систем оборудования
    function setupEquipmentButtons() {
        // Для сенсоров (телеметрия)
        const telemetryButtons = sensorButtonsGroup.querySelectorAll('.equipment-system-btn');
        telemetryButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                telemetryButtons.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                console.log('Выбрана система телеметрии:', this.textContent);
            });
        });

        // Для оборудования
        const equipmentButtons = equipmentButtonsGroup.querySelectorAll('.equipment-system-btn');
        equipmentButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                equipmentButtons.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                console.log('Выбрана система оборудования:', this.textContent);
            });
        });
    }

    // Инициализация
    setupEquipmentButtons();
    resetAll();
    
    // По умолчанию активируем первую кнопку (если нужно)
    // document.getElementById('temperature-btn').click();
});
</script>

<script>
function formatTimeInput(input) {
    // Удаляем все нецифровые символы
    let value = input.value.replace(/\D/g, '');
    
    // Форматируем в чч:мм:сс
    if (value.length > 6) value = value.substring(0, 6);
    
    let formatted = '';
    for (let i = 0; i < value.length; i++) {
        if (i === 2 || i === 4) formatted += ':';
        formatted += value[i];
    }
    
    input.value = formatted;
    
    // Проверка корректности при потере фокуса (без alert)
    input.addEventListener('blur', function() {
        if (!this.value.match(/^([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/)) {
            this.value = '';
        }
    });
}
    </script>

</body>
</html>
